---
interface Props {
  domain: string;
  firstSnapshotUrl: string | null;
  birthAt: string | null;
}

const { domain, firstSnapshotUrl, birthAt } = Astro.props;
---

{birthAt && (
  <div class="bg-white/60 border border-divider p-6 sm:p-8">
    <h2 class="text-[10px] tracking-[0.3em] uppercase text-seal-dark font-medium mb-6">Timeline</h2>
    <div class="relative pl-6 space-y-8 before:absolute before:left-[5px] before:top-2 before:bottom-2 before:w-px before:bg-divider">
      <div class="relative">
        <div class="absolute -left-6 top-1 w-[11px] h-[11px] rounded-full border-2 border-azure bg-parchment"></div>
        <div>
          <p class="font-display text-base text-ink">{new Date(birthAt).toLocaleDateString("en-US", { year: "numeric", month: "long", day: "numeric" })}</p>
          <p class="text-xs text-ink-muted mt-1 font-light">Earliest known snapshot</p>
          {firstSnapshotUrl && (
            <a href={firstSnapshotUrl} target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-1 text-xs text-azure hover:text-azure-light mt-2 transition-colors">
              View on Wayback Machine
              <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 19.5l15-15m0 0H8.25m11.25 0v11.25"/>
              </svg>
            </a>
          )}
        </div>
      </div>
      <div class="relative">
        <div class="absolute -left-6 top-1 w-[11px] h-[11px] rounded-full border-2 border-seal bg-parchment"></div>
        <div>
          <p class="font-display text-base text-ink">Today</p>
          <p class="text-xs text-ink-muted mt-1 font-light">Still going strong</p>
        </div>
      </div>
    </div>
  </div>
)}
