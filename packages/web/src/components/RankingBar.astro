---
interface Props {
  percentile: number;
}

const { percentile } = Astro.props;
---

<div class="card-base p-6 sm:p-8">
  <h2 class="card-title">Longevity Ranking</h2>
  <div class="flex items-center gap-4">
    <div class="flex-1 bg-parchment-dark h-4 overflow-hidden relative">
      <!-- Background tick marks -->
      <div class="absolute inset-0 flex justify-between px-px pointer-events-none">
        {Array.from({ length: 10 }).map(() => (
          <div class="w-px h-full bg-divider/40"></div>
        ))}
      </div>
      <div
        class="h-full bg-gradient-to-r from-azure to-azure-light transition-all duration-700 relative"
        style={`width: ${percentile}%`}
      >
        <!-- Top gloss bar -->
        <div class="absolute top-0 left-0 right-0 h-[2px] bg-white/20"></div>
      </div>
    </div>
    <span class="text-sm font-medium text-ink whitespace-nowrap font-display">
      Top {100 - percentile}%
    </span>
  </div>
  <p class="text-xs text-ink-muted/60 mt-3 font-light">
    Older than {percentile}% of websites in our database
  </p>
</div>
